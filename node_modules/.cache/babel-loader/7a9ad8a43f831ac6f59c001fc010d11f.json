{"ast":null,"code":"var _jsxFileName = \"/Users/vincenzo/Desktop/weather-react-app/src/components/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Alert, Col, Container, Form, Row, Spinner } from \"react-bootstrap\";\nimport SchedaMeteo from \"./SchedaMeteo\";\nimport logo from \"../img/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [cityName, setCityName] = useState(\"\");\n  const [city, setCity] = useState(null);\n  const [cityFore, setCityFore] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const baseEndpoint = \"https://api.openweathermap.org/data/2.5/weather?q=\";\n  const baseEndpoint2 = \"https://api.openweathermap.org/data/2.5/forecast?q=\";\n  const baseEndpoint3 = \"https://api.openweathermap.org/data/2.5/weather?\";\n  const baseEndpoint4 = \"https://api.openweathermap.org/data/2.5/forecast?\";\n  const apiKey = \"&appid=ba080c3ae8fd39ca79efa09579e41550\";\n  useEffect(() => {\n    setLoading(true);\n    navigator.geolocation.getCurrentPosition(position => {\n      (async () => {\n        try {\n          const response = await fetch(baseEndpoint3 + \"lat=\" + position.coords.latitude.toFixed(2) + \"&lon=\" + position.coords.longitude.toFixed(2) + apiKey);\n\n          if (response.ok) {\n            const data = await response.json();\n            setCity(data);\n          }\n\n          const response2 = await fetch(baseEndpoint4 + \"lat=\" + position.coords.latitude.toFixed(2) + \"&lon=\" + position.coords.longitude.toFixed(2) + apiKey);\n\n          if (response2.ok) {\n            const data2 = await response2.json();\n            setCityFore(data2);\n            setLoading(false);\n          }\n        } catch (err) {\n          console.log(\"Si è verificato un errore\", err);\n          setLoading(false);\n          setError(true);\n        }\n      })();\n    });\n  }, []);\n\n  const handleChange = e => {\n    setCityName(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const response = await fetch(baseEndpoint + cityName + apiKey);\n\n      if (response.ok) {\n        const data = await response.json();\n        setCity(data);\n      }\n\n      const response2 = await fetch(baseEndpoint2 + cityName + apiKey);\n\n      if (response2.ok) {\n        const data2 = await response2.json();\n        setCityFore(data2);\n        setLoading(false);\n      }\n    } catch (err) {\n      console.log(\"Si è verificato un errore\");\n      setLoading(false);\n      setError(true);\n    }\n  };\n\n  return (\n    /*#__PURE__*/\n    // <><Container fluid className=\"background\">\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"Logo\",\n        className: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"Central\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 10,\n            className: \"mx-auto my-3\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-center\",\n              children: \"Cerca una citt\\xE0:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 10,\n            className: \"mx-auto\",\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: handleSubmit,\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"search\",\n                value: cityName,\n                onChange: handleChange,\n                placeholder: \"Inserisci la tua citt\\xE0...\",\n                className: \"search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n          className: \"my-5\",\n          animation: \"border\",\n          variant: \"info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this) : error ? /*#__PURE__*/_jsxDEV(Alert, {\n          className: \"my-5\",\n          variant: \"danger\",\n          children: \"Si \\xE8 verificato un errore\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this) : city && cityFore ? /*#__PURE__*/_jsxDEV(SchedaMeteo, {\n          city: city,\n          cityFore: cityFore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)\n  );\n};\n\n_s(Home, \"jtNcMzTcgnGVkjjAKP0HSKA9iiI=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","Alert","Col","Container","Form","Row","Spinner","SchedaMeteo","logo","Home","cityName","setCityName","city","setCity","cityFore","setCityFore","loading","setLoading","error","setError","baseEndpoint","baseEndpoint2","baseEndpoint3","baseEndpoint4","apiKey","navigator","geolocation","getCurrentPosition","position","response","fetch","coords","latitude","toFixed","longitude","ok","data","json","response2","data2","err","console","log","handleChange","e","target","value","handleSubmit","preventDefault"],"sources":["/Users/vincenzo/Desktop/weather-react-app/src/components/Home.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Alert, Col, Container, Form, Row, Spinner } from \"react-bootstrap\";\nimport SchedaMeteo from \"./SchedaMeteo\";\nimport logo from \"../img/logo.png\";\n\nconst Home = () => {\n  const [cityName, setCityName] = useState(\"\");\n  const [city, setCity] = useState(null);\n  const [cityFore, setCityFore] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const baseEndpoint = \"https://api.openweathermap.org/data/2.5/weather?q=\";\n  const baseEndpoint2 = \"https://api.openweathermap.org/data/2.5/forecast?q=\";\n  const baseEndpoint3 = \"https://api.openweathermap.org/data/2.5/weather?\";\n  const baseEndpoint4 = \"https://api.openweathermap.org/data/2.5/forecast?\";\n  const apiKey = \"&appid=ba080c3ae8fd39ca79efa09579e41550\";\n\n  useEffect(() => {\n    setLoading(true);\n    navigator.geolocation.getCurrentPosition((position) => {\n      (async () => {\n        try {\n          const response = await fetch(\n            baseEndpoint3 +\n              \"lat=\" +\n              position.coords.latitude.toFixed(2) +\n              \"&lon=\" +\n              position.coords.longitude.toFixed(2) +\n              apiKey\n          );\n\n          if (response.ok) {\n            const data = await response.json();\n            setCity(data);\n          }\n\n          const response2 = await fetch(\n            baseEndpoint4 +\n              \"lat=\" +\n              position.coords.latitude.toFixed(2) +\n              \"&lon=\" +\n              position.coords.longitude.toFixed(2) +\n              apiKey\n          );\n\n          if (response2.ok) {\n            const data2 = await response2.json();\n            setCityFore(data2);\n            setLoading(false);\n          }\n        } catch (err) {\n          console.log(\"Si è verificato un errore\", err);\n          setLoading(false);\n          setError(true);\n        }\n      })();\n    });\n  }, []);\n\n  const handleChange = (e) => {\n    setCityName(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await fetch(baseEndpoint + cityName + apiKey);\n\n      if (response.ok) {\n        const data = await response.json();\n        setCity(data);\n      }\n\n      const response2 = await fetch(baseEndpoint2 + cityName + apiKey);\n\n      if (response2.ok) {\n        const data2 = await response2.json();\n        setCityFore(data2);\n        setLoading(false);\n      }\n    } catch (err) {\n      console.log(\"Si è verificato un errore\");\n      setLoading(false);\n      setError(true);\n    }\n  };\n\n  return (\n    // <><Container fluid className=\"background\">\n    <>\n      <img src={logo} alt=\"Logo\" className=\"logo\" />\n      <Container className=\"Central\">\n        <Row>\n          <Col xs={10} className=\"mx-auto my-3\">\n            <h4 className=\"text-center\">Cerca una città:</h4>\n          </Col>\n          <Col xs={10} className=\"mx-auto\">\n            <Form onSubmit={handleSubmit}>\n              <Form.Control\n                type=\"search\"\n                value={cityName}\n                onChange={handleChange}\n                placeholder=\"Inserisci la tua città...\"\n                className=\"search\"\n              />\n            </Form>\n          </Col>\n        </Row>\n        {loading ? (\n          <Spinner className=\"my-5\" animation=\"border\" variant=\"info\" />\n        ) : error ? (\n          <Alert className=\"my-5\" variant=\"danger\">\n            Si è verificato un errore\n          </Alert>\n        ) : city && cityFore ? (\n          <SchedaMeteo city={city} cityFore={cityFore} />\n        ) : (\n          <></>\n        )}\n        {/* </Container> */}\n      </Container>\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}