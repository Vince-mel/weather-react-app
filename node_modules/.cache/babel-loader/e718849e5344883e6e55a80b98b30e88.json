{"ast":null,"code":"var _jsxFileName = \"/Users/vincenzo/Downloads/weather-react/src/components/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Alert, Col, Container, Form, Row, Spinner } from \"react-bootstrap\";\nimport SchedaMeteo from \"./SchedaMeteo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [cityName, setCityName] = useState(\"\");\n  const [city, setCity] = useState(null);\n  const [cityFore, setCityFore] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const baseEndpoint = \"https://api.openweathermap.org/data/2.5/weather?q=\";\n  const baseEndpoint2 = \"https://api.openweathermap.org/data/2.5/forecast?q=\";\n  const baseEndpoint3 = \"https://api.openweathermap.org/data/2.5/weather?\";\n  const baseEndpoint4 = \"https://api.openweathermap.org/data/2.5/forecast?\";\n  const apiKey = \"&appid=c5f9c3de77f6d924451c850c13f5a0f6\";\n  useEffect(() => {\n    setLoading(true);\n    navigator.geolocation.getCurrentPosition(position => {\n      (async () => {\n        try {\n          const response = await fetch(baseEndpoint3 + \"lat=\" + position.coords.latitude.toFixed(2) + \"&lon=\" + position.coords.longitude.toFixed(2) + apiKey);\n\n          if (response.ok) {\n            const data = await response.json();\n            setCity(data);\n          }\n\n          const response2 = await fetch(baseEndpoint4 + \"lat=\" + position.coords.latitude.toFixed(2) + \"&lon=\" + position.coords.longitude.toFixed(2) + apiKey);\n\n          if (response2.ok) {\n            const data2 = await response2.json();\n            setCityFore(data2);\n            setLoading(false);\n          }\n        } catch (err) {\n          console.log(\"Si è verificato un errore\", err);\n          setLoading(false);\n          setError(true);\n        }\n      })();\n    });\n  }, []);\n\n  const handleChange = e => {\n    setCityName(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const response = await fetch(baseEndpoint + cityName + apiKey);\n\n      if (response.ok) {\n        const data = await response.json();\n        setCity(data);\n      }\n\n      const response2 = await fetch(baseEndpoint2 + cityName + apiKey);\n\n      if (response2.ok) {\n        const data2 = await response2.json();\n        setCityFore(data2);\n        setLoading(false);\n      }\n    } catch (err) {\n      console.log(\"Si è verificato un errore\");\n      setLoading(false);\n      setError(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Epic Meteo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: 10,\n          className: \"mx-auto my-3\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-start\",\n            style: {\n              backgroundColor: 'rgba(255, 255, 255, 0)'\n            },\n            children: \"Cerca una citt\\xE0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: 10,\n          className: \"mx-auto\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"search\",\n              value: cityName,\n              onChange: handleChange,\n              placeholder: \"type and press Enter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n        className: \"my-5\",\n        animation: \"border\",\n        variant: \"danger\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this) : error ? /*#__PURE__*/_jsxDEV(Alert, {\n        className: \"my-5\",\n        variant: \"danger\",\n        children: \"Si \\xE8 verificato un errore\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 20\n      }, this) : city && cityFore ? /*#__PURE__*/_jsxDEV(SchedaMeteo, {\n        city: city,\n        cityFore: cityFore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"3XI5WFW7W9dM43eGDqQ/nJ6U2BM=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","Alert","Col","Container","Form","Row","Spinner","SchedaMeteo","Home","cityName","setCityName","city","setCity","cityFore","setCityFore","loading","setLoading","error","setError","baseEndpoint","baseEndpoint2","baseEndpoint3","baseEndpoint4","apiKey","navigator","geolocation","getCurrentPosition","position","response","fetch","coords","latitude","toFixed","longitude","ok","data","json","response2","data2","err","console","log","handleChange","e","target","value","handleSubmit","preventDefault","backgroundColor"],"sources":["/Users/vincenzo/Downloads/weather-react/src/components/Home.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Alert, Col, Container, Form, Row, Spinner } from \"react-bootstrap\";\nimport SchedaMeteo from \"./SchedaMeteo\";\n\nconst Home = () => {\n  const [cityName, setCityName] = useState(\"\");\n  const [city, setCity] = useState(null);\n  const [cityFore, setCityFore] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError ] = useState(false);\n \n  const baseEndpoint = \"https://api.openweathermap.org/data/2.5/weather?q=\";\n  const baseEndpoint2 = \"https://api.openweathermap.org/data/2.5/forecast?q=\";\n  const baseEndpoint3 = \"https://api.openweathermap.org/data/2.5/weather?\";\n  const baseEndpoint4 = \"https://api.openweathermap.org/data/2.5/forecast?\"\n  const apiKey = \"&appid=c5f9c3de77f6d924451c850c13f5a0f6\";\n\n  useEffect(() => {\n    setLoading(true);\n    navigator.geolocation.getCurrentPosition((position) => {\n       (async () => {\n      try {\n        const response = await fetch(\n          baseEndpoint3 +\n            \"lat=\" +\n            position.coords.latitude.toFixed(2) +\n            \"&lon=\" +\n            position.coords.longitude.toFixed(2) +\n            apiKey\n        );\n\n        if (response.ok) {\n          const data = await response.json();\n          setCity(data);\n        }\n\n        const response2 = await fetch(\n            baseEndpoint4 +\n              \"lat=\" +\n              position.coords.latitude.toFixed(2) +\n              \"&lon=\" +\n              position.coords.longitude.toFixed(2) +\n              apiKey\n          );\n\n          if (response2.ok) {\n            const data2 = await response2.json();\n            setCityFore(data2);\n            setLoading(false);\n          }\n\n      } catch (err) {\n        console.log(\"Si è verificato un errore\", err);\n        setLoading(false);\n        setError(true);\n      }\n    })();\n    });\n   \n  }, []);\n\n  const handleChange = (e) => {\n    setCityName(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await fetch(baseEndpoint + cityName + apiKey);\n\n      if (response.ok) {\n        const data = await response.json();\n        setCity(data);\n      }\n\n      const response2 = await fetch(baseEndpoint2 + cityName + apiKey);\n\n      if (response2.ok) {\n        const data2 = await response2.json();\n        setCityFore(data2);\n        setLoading(false);\n      }\n    } catch (err) {\n      console.log(\"Si è verificato un errore\");\n      setLoading(false);\n      setError(true);\n    }\n  };\n\n\n  return (\n    <Container fluid>\n        <h1>Epic Meteo</h1>\n        <Container >\n      <Row>\n        <Col xs={10} className=\"mx-auto my-3\">\n          <h3  className=\"text-start\" style={{backgroundColor: 'rgba(255, 255, 255, 0)'}}>Cerca una città</h3>\n        </Col>\n        <Col xs={10} className=\"mx-auto\">\n          <Form onSubmit={handleSubmit}>\n            <Form.Control\n              type=\"search\"\n              value={cityName}\n              onChange={handleChange}\n              placeholder=\"type and press Enter\"\n            />\n          </Form>\n        </Col>\n      </Row>\n      {loading ? (\n        <Spinner className=\"my-5\" animation=\"border\" variant=\"danger\" />\n      ) : error ? (<Alert className=\"my-5\" variant=\"danger\">Si è verificato un errore</Alert>\n      ) : city && cityFore ? (\n        <SchedaMeteo city={city} cityFore={cityFore} />) : (\n        <></>\n      )}\n    </Container>\n    </Container>\n    \n  );\n};\n\n\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}